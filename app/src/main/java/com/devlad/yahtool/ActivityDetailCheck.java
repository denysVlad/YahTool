package com.devlad.yahtool;

import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.AdapterView;
import android.widget.CompoundButton;
import android.widget.SimpleAdapter;
import android.widget.Spinner;
import android.widget.Switch;
import android.widget.TextView;
import android.widget.Toast;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;



public class ActivityDetailCheck extends AppCompatActivity  {
    public String localjsonString = "{ \"Fault_code_No\": [ { \"code\": 11, \"Item\": \"Cylinder identification sensor\", \"Symptom\": \"No normal signals are received from the cylinder identification sensor when the engine is started or while the vehicle is being driven.\", \"start\": \"Unable\", \"drive\": \"Able\", \"DiagnosticCode\": \"N/A\" }, { \"code\": 12, \"Item\": \"Crankshaft position sensor\", \"Symptom\": \"No normal signals are received from the crankshaft position sensor.\", \"start\": \"Unable\", \"drive\": \"Unable\", \"DiagnosticCode\": \"N/A\" }, { \"code\": 13, \"Item\": \"Intake air pressure sensor (open or short circuit)\", \"Symptom\": \"No normal signals are received from the crankshaft position sensor.\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"03\" }, { \"code\": 14, \"Item\": \"Intake air pressure sensor hose line (piping system)\", \"Symptom\": \"Intake air pressure sensor: hose system malfunction (clogged or detached hose).\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"03\" }, { \"code\": 15, \"Item\": \"Throttle position sensor (for throttle valves) (open or short circuit/ loose connection)\", \"Symptom\": \"Throttle position sensor (for throttle valves): open or short circuit detected. Throttle position sensor (for throttle valves) coupler connection is loose.\", \"start\": \"Able/Unable\", \"drive\": \"Able/Unable\", \"DiagnosticCode\": \"01-13\" }, { \"code\": 17, \"Item\": \"EXUP servo motor circuit (open or short circuit)\", \"Symptom\": \"EXUP servo motor circuit: open or short circuit detected.\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"53\" }, { \"code\": 18, \"Item\": \"EXUP servo motor is stuck.\", \"Symptom\": \"EXUP servo motor is stuck.\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"53\" }, { \"code\": 19, \"Item\": \"Sidestand switch (open circuit in the wire to the ECU)\", \"Symptom\": \"Open circuit is detected in the input line from the sidestand switch to the ECU.\", \"start\": \"Unable\", \"drive\": \"Unable\", \"DiagnosticCode\": \"20\" }, { \"code\": 20, \"Item\": \"Intake air pressure sensor or atmospheric pressure sensor\", \"Symptom\": \"When the main switch is turned to “ON”, the atmospheric pressure sensor voltage and intake air pressure sensor voltage differ greatly\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"03-02\" }, { \"code\": 21, \"Item\": \"Coolant temperature sensor (open or short circuit)\", \"Symptom\": \"Coolant temperature sensor: open or short circuit detected\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"06\" }, { \"code\": 22, \"Item\": \"Air temperature sensor (open or short circuit)\", \"Symptom\": \"Air temperature sensor: open or short circuit detected.\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"05\" }, { \"code\": 23, \"Item\": \"Atmospheric pressure sensor (open or short circuit)\", \"Symptom\": \"Air temperature sensor: open or short circuit detected.\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"02\" }, { \"code\": 24, \"Item\": \"O2 sensor\", \"Symptom\": \"No normal signal is received from the O2 sensor.\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"N/A\" }, { \"code\": 30, \"Item\": \"Lean angle sensor\", \"Symptom\": \"Latch up detected. No normal signal is received from the lean angle sensor.\", \"start\": \"Unable\", \"drive\": \"Unable\", \"DiagnosticCode\": \"30\" }, { \"code\": 33, \"Item\": \"Cylinder-#1 ignition coil (open circuit)\", \"Symptom\": \"Primary lead of the cylinder-#1 ignition coil: open circuit detected.\", \"start\": \"Able (depending on the number of faulty cylinders)\", \"drive\": \"Able (depending on the number of faulty cylinders)\", \"DiagnosticCode\": \"30\" }, { \"code\": 34, \"Item\": \"Cylinder-#2 ignition coil (open circuit)\", \"Symptom\": \"Primary lead of the cylinder-#2 ignition coil: open circuit detected.\", \"start\": \"Able (depending on the number of faulty cylinders)\", \"drive\": \"Able (depending on the number of faulty cylinders)\", \"DiagnosticCode\": \"31\" }, { \"code\": 35, \"Item\": \"Cylinder-#3 ignition coil (open circuit)\", \"Symptom\": \"Primary lead of the cylinder-#3 ignition coil: open circuit detected.\", \"start\": \"Able (depending on the number of faulty cylinders)\", \"drive\": \"Able (depending on the number of faulty cylinders)\", \"DiagnosticCode\": \"32\" }, { \"code\": 36, \"Item\": \"Cylinder-#4 ignition coil (open circuit)\", \"Symptom\": \"Primary lead of the cylinder-#4 ignition coil: open circuit detected.\", \"start\": \"Able (depending on the number of faulty cylinders)\", \"drive\": \"Able (depending on the number of faulty cylinders)\", \"DiagnosticCode\": \"33\" }, { \"code\": 39, \"Item\": \"Primary injector (open circuit)\", \"Symptom\": \"Primary injector: open circuit detected.\", \"start\": \"Able (depending on the number of faulty cylinders)\", \"drive\": \"Able (depending on the number of faulty cylinders)\", \"DiagnosticCode\": \"36-37-38-39\" }, { \"code\": 40, \"Item\": \"Secondary injector (open circuit)\", \"Symptom\": \"Secondary injector: open circuit detected.\", \"start\": \"Able (depending on the number of faulty cylinders)\", \"drive\": \"Able (depending on the number of faulty cylinders)\", \"DiagnosticCode\": \"40-41-42-43\" }, { \"code\": 41, \"Item\": \"Lean angle sensor (open or short-circuit)\", \"Symptom\": \"Lean angle sensor: open or short circuit detected.\", \"start\": \"Unable\", \"drive\": \"Unable\", \"DiagnosticCode\": \"08\" }, { \"code\": 42, \"Item\": \"Speed sensor/Neutral switch\", \"Symptom\": \"No normal signals are received from the speed sensor./Neutral switch: open or short circuit detected\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"07-21\" }, { \"code\": 43, \"Item\": \"Fuel system voltage (monitoring voltage)\", \"Symptom\": \"Power supply to the injectors and the fuel pump is not normal.\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"09\" }, { \"code\": 44, \"Item\": \"Error in writing the amount of CO adjustment on EEPROM\", \"Symptom\": \"An error is detected while reading or writing on EEPROM (CO adjustment value).\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"60\" }, { \"code\": 46, \"Item\": \"Vehicle system power supply (monitoring voltage)\", \"Symptom\": \"Power supply is not normal.\", \"start\": \"Able\", \"drive\": \"Able\", \"DiagnosticCode\": \"N/A\" }, { \"code\": 50, \"Item\": \"ECU internal malfunction\", \"Symptom\": \"ECU memory is faulty. (When this malfunction is detected in the ECU, the fault code number might not appear on the meter.)\", \"start\": \"Able/Unable\", \"drive\": \"Able/Unable\", \"DiagnosticCode\": \"N/A\" }, { \"code\": 59, \"Item\": \"Throttle position sensor (for throttle cable pulley) (open or short circuit/ loose connection)\", \"Symptom\": \"Throttle position sensor (for throttle cable pulley): open or short circuit detected. Throttle position sensor (for throttle cable pulley) coupler connection is loose.\", \"start\": \"Able/Unable\", \"drive\": \"Able/Unable\", \"DiagnosticCode\": \"14-15\" }, { \"code\": 60, \"Item\": \"Throttle servo motor\", \"Symptom\": \"Throttle servo motor: open or short circuit detected. Motor is defective or ECU internal malfunction\", \"start\": \"Able/Unable\", \"drive\": \"Able/Unable\", \"DiagnosticCode\": \"01\" } ], \"Diagnostic_No\": [ { \"code\": 1, \"Item\": \"Throttle servo motor\", \"display\": \"Closed 12–21 Open 97–106 \", \"Checking\": \"Check with throttle valves fully closed. Check with throttle valves fully opened\" }, { \"code\": 2, \"Item\": \"Atmospheric pressure\", \"display\": \"Displays the atmospheric pressure.\", \"Checking\": \"Compare the actually measured atmospheric pressure with the meter display value\" }, { \"code\": 3, \"Item\": \"Intake air pressure\", \"display\": \"Displays intake air pressure.\", \"Checking\": \"Compare the actually measured atmospheric pressure with the meter display value without cranking the engine.\" }, { \"code\": 5, \"Item\": \"Intake air temperature\", \"display\": \"Displays intake air temperature.\", \"Checking\": \"Compare the actually measured air temperature with the meter display value.\" }, { \"code\": 6, \"Item\": \"Coolant temperature\", \"display\": \" Displays the coolant temperature\", \"Checking\": \"Compare the actually measured coolant temperature with the meter display value\" }, { \"code\": 7, \"Item\": \"Vehicle speed pulse\", \"display\": \"0–999\", \"Checking\": \"Check that the number increases when the rear wheel is rotated. The number is cumulative and does not reset each time the wheel is stopped.\" }, { \"code\": 8, \"Item\": \"Lean angle sensor Upright-Overturned\", \"display\": \"0.4–1.4 - 3.7–4.4\", \"Checking\": \"Remove the lean angle sensor and incline it more than 65 degrees.\" }, { \"code\": 9, \"Item\": \" Fuel system voltage (battery voltage)\", \"display\": \"Approximately 12.0\", \"Checking\": \" Set the engine stop switch to “Open”, and then compare with the actually measured battery voltage. (If the battery voltage is lower, recharge the battery.)\" }, { \"code\": 13, \"Item\": \"Throttle position sensor (for throttle valves) signal 2: Fully closed position/Fully opened position\", \"display\": \"9-23 94-108\", \"Checking\": \"Check with throttle valve fully closed/opened\" }, { \"code\": 14, \"Item\": \" Throttle position sensor (for throttle cable pulley) signal 1: Fully closed position/Fully opened position \", \"display\": \"12–22 - 97-107\", \"Checking\": \"Check with throttle grip fully closed/opened\" }, { \"code\": 15, \"Item\": \" Throttle position sensor (for throttle cable pulley) signal 2: Fully closed position/Fully opened position \", \"display\": \"10–24 - 95-109\", \"Checking\": \"Check with throttle grip fully closed/opened\" }, { \"code\": 20, \"Item\": \"Sidestand switch  Stand retracted/extended\", \"display\": \"ON/OFF\", \"Checking\": \"Set ON/OFF the sidestand switch (with the transmission in gear).\" }, { \"code\": 21, \"Item\": \"Neutral switch Neutral/ In gear\", \"display\": \"ON/OFF\", \"Checking\": \"Shift the transmission.\" }, { \"code\": 60, \"Item\": \"EEPROM fault cylinder No.  No history/ History exists\", \"display\": \"00/01-04 (fault cylinder No.) (If more than one cylinder is defective, the display changes every two seconds to show all the detected cylinder numbers. When all cylinder numbers are shown, the display repeats.)\", \"Checking\": \"N/A\" }, { \"code\": 61, \"Item\": \"Malfunction history code No history/ History exists\", \"display\": \"00/Fault codes 11-60 (If more than one code number is detected, the display changes every two seconds to show all the detected code numbers. When all code numbers are shown, the display repeats.)\", \"Checking\": \"N/A\" }, { \"code\": 62, \"Item\": \"Malfunction history code erasure history/ History exists\", \"display\": \"00/Displays the total number of malfunctions, including the current malfunction, that have occurred since the history was last erased. (For example, if there have been three malfunctions, “03” is displayed.)\", \"Checking\": \"To erase the history, set the engine stop switch from “OFF” to “ON”.\" }, { \"code\": 63, \"Item\": \"Malfunction code reinstate (for fault code No. 24 and 40 only) No malfunction code/Malfunction code exists\", \"display\": \"00/Fault codes 24, 40 (If more than one code number is detected, the display changes every two seconds to show all the detected code numbers. When all code numbers are shown, the display repeats.) \", \"Checking\": \"To reinstate, set the engine stop switch from “OFF” to “ON”.\" }, { \"code\": 70, \"Item\": \"Control number\", \"display\": 0, \"Checking\": \"N/A\" } ] }";
    public String JsonEspañol = "{ \"Fault_code_No\": [ { \"codigo\": 11, \"falla\": \"Sensor de identificación del cilindro\", \"sintoma\": \"No se reciben señales normales del sensor de identificación del cilindro cuando se arranca el motor o mientras se conduce el vehículo\", \"inicio\": \"Incapaz\", \"conducir\": \"Capaz\", \"menudiag\": \"N / A\" }, { \"codigo\": 12, \"falla\": \"Sensor de posición del cigüeñal\", \"sintoma\": \"No se reciben señales normales del sensor de posición del cigüeñal\", \"inicio\": \"Incapaz\", \"conducir\": \"No se puede\", \"menudiag\": \"N / A\" }, { \"codigo\": 13, \"falla\": \"Sensor de presión de aire de admisión (abierto o cortocircuito)\", \"sintoma\": \"No se reciben señales normales del sensor de posición del cigüeñal\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"03\" }, { \"codigo\": 14, \"falla\": \"Línea de la manguera del sensor de presión de aire de admisión (sistema de tuberías)\", \"sintoma\": \"Sensor de presión de aire de admisión: mal funcionamiento del sistema de manguera (manguera obstruida o desconectada).\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"03\" }, { \"codigo\": 15, \"falla\": \"Sensor de posición del acelerador (para válvulas de mariposa) (abierto o cortocircuito / conexión suelta)\", \"sintoma\": \"Sensor de posición del acelerador (para válvulas de mariposa): circuito abierto o cortocircuito detectado. La conexión del acoplador del sensor de posición del acelerador (para válvulas de mariposa) está floja.\", \"inicio\": \"Capaz / Incapaz\", \"conducir\": \"Capaz / Incapaz\", \"menudiag\": \"01-13\" }, { \"codigo\": 17, \"falla\": \"Circuito del servomotor EXUP (abierto o cortocircuito)\", \"sintoma\": \"Circuito del servomotor EXUP: circuito abierto o cortocircuito detectado\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"53\" }, { \"codigo\": 18, \"falla\": \"El servo motor EXUP está atascado\", \"sintoma\": \"El servo motor EXUP está atascado\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"53\" }, { \"codigo\": 19, \"falla\": \"Interruptor del caballete lateral (circuito abierto en el cable a la ECU)\", \"sintoma\": \"Se ha detectado un circuito abierto en la línea de entrada desde el interruptor del caballete lateral a la ECU\", \"inicio\": \"Incapaz\", \"conducir\": \"No se puede\", \"menudiag\": \"20\" }, { \"codigo\": 20, \"falla\": \"sensor de presión de aire de entrada o sensor de presión atmosférica\", \"sintoma\": \"Cuando el interruptor principal está en ON  el voltaje del sensor de presión atmosférica y el voltaje del sensor de presión de aire de admisión difieren mucho\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"03-02\" }, { \"codigo\": 21, \"falla\": \"Sensor de temperatura del refrigerante (abierto o cortocircuito)\", \"sintoma\": \"Sensor de temperatura del refrigerante: abierto o cortocircuito detectado\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"06\" }, { \"codigo\": 22, \"falla\": \"Sensor de temperatura del aire (abierto o cortocircuito)\", \"sintoma\": \"Sensor de temperatura del aire: circuito abierto o cortocircuito detectado\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"05\" }, { \"codigo\": 23, \"falla\": \"Sensor de presión atmosférica (abierto o cortocircuito)\", \"sintoma\": \"Sensor de temperatura del aire: circuito abierto o cortocircuito detectado\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"02\" }, { \"codigo\": 24, \"falla\": \"sensor de O2\", \"sintoma\": \"No se recibe señal normal del sensor de O2\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"N / A\" }, { \"codigo\": 30, \"falla\": \"Sensor de ángulo de inclinación\", \"sintoma\": \"Se detectó el enganche. No se recibe señal normal del sensor del ángulo de inclinación\", \"inicio\": \"Incapaz\", \"conducir\": \"No se puede\", \"menudiag\": \"30\" }, { \"codigo\": 33, \"falla\": \"Cilindro- # 1 bobina de encendido (circuito abierto)\", \"sintoma\": \"Cable primario de la bobina de encendido del cilindro n. ° 1: circuito abierto detectado\", \"inicio\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"conducir\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"menudiag\": \"30\" }, { \"codigo\": 34, \"falla\": \"Bobina de encendido del cilindro n. ° 2 (circuito abierto)\", \"sintoma\": \"Cable primario de la bobina de encendido del cilindro n. ° 2: circuito abierto detectado\", \"inicio\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"conducir\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"menudiag\": \"31\" }, { \"codigo\": 35, \"falla\": \"Cilindro- # 3 bobina de encendido (circuito abierto)\", \"sintoma\": \"Cable primario de la bobina de encendido del cilindro n. ° 3: circuito abierto detectado\", \"inicio\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"conducir\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"menudiag\": \"32\" }, { \"codigo\": 36, \"falla\": \"Cilindro- # 4 bobina de encendido (circuito abierto)\", \"sintoma\": \"Cable primario de la bobina de encendido del cilindro n. ° 4: circuito abierto detectado\", \"inicio\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"conducir\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"menudiag\": \"33\" }, { \"codigo\": 39, \"falla\": \"Inyector primario (circuito abierto)\", \"sintoma\": \"Inyector primario: circuito abierto detectado\", \"inicio\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"conducir\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"menudiag\": \"36-37-38-39\" }, { \"codigo\": 40, \"falla\": \"Inyector secundario (circuito abierto)\", \"sintoma\": \"Inyector secundario: circuito abierto detectado\", \"inicio\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"conducir\": \"Capaz (dependiendo de la cantidad de cilindros defectuosos)\", \"menudiag\": \"40-41-42-43\" }, { \"codigo\": 41, \"falla\": \"Sensor de ángulo de inclinación (abierto o cortocircuito)\", \"sintoma\": \"Sensor de ángulo de inclinación: circuito descubierto o cortocircuito detectado\", \"inicio\": \"Incapaz\", \"conducir\": \"No se puede\", \"menudiag\": \"08\" }, { \"codigo\": 42, \"falla\": \"Sensor de velocidad / interruptor neutral\", \"sintoma\": \"No se reciben señales normales del sensor de velocidad. / Interruptor de neutro: abierto o cortocircuito detectado\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"07-21\" }, { \"codigo\": 43, \"falla\": \"Voltaje del sistema de combustible (voltaje de monitoreo)\", \"sintoma\": \"El suministro de energía a los inyectores y la bomba de combustible no es normal\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"09\" }, { \"codigo\": 44, \"falla\": \"Error al escribir la cantidad de ajuste de CO en EEPROM\", \"sintoma\": \"Se detecta un error al leer o escribir en EEPROM (valor de ajuste de CO).\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"60\" }, { \"codigo\": 46, \"falla\": \"Fuente de alimentación del sistema del vehículo (voltaje de monitoreo)\", \"sintoma\": \"El suministro de energía no es normal\", \"inicio\": \"Capaz\", \"conducir\": \"Capaz\", \"menudiag\": \"N/A\" }, { \"codigo\": 50, \"falla\": \"Mal funcionamiento interno de la ECU\", \"sintoma\": \"La memoria de la ECU está defectuosa. (Cuando se detecta este mal funcionamiento en la ECU, es posible que el número de codigo de falla no aparezca en el medidor)\", \"inicio\": \"Capaz / Incapaz\", \"conducir\": \"Capaz / Incapaz\", \"menudiag\": \"N / A\" }, { \"codigo\": 59, \"falla\": \"Sensor de posición del acelerador (para la polea del cable del acelerador) (abierto o cortocircuito / conexión suelta)\", \"sintoma\": \"Sensor de posición del acelerador (para la polea del cable del acelerador): circuito descubierto o cortocircuito detectado. La conexión del acoplador del sensor de posición del acelerador (para la polea del cable del acelerador) está floja.\", \"inicio\": \"Capaz / Incapaz\", \"conducir\": \"Capaz / Incapaz\", \"menudiag\": \"14-15\" }, { \"codigo\": 60, \"falla\": \"Servomotor del acelerador\", \"sintoma\": \"Servomotor del acelerador: circuito abierto o cortocircuito detectado. Motor defectuoso o mal funcionamiento interno de la ECU\", \"inicio\": \"Capaz / Incapaz\", \"conducir\": \"Capaz / Incapaz\", \"menudiag\": \"01\" } ], \"Diagnostic_No\": [ { \"codigo\": 1, \"falla\": \"Servomotor del acelerador\", \"pantalla\": \"Cerrado 12-21 Abierto 97-106\", \"Comprobación\": \"Verifique que las válvulas del acelerador estén completamente cerradas. Compruebe con las válvulas del acelerador completamente abiertas\" }, { \"codigo\": 2, \"falla\": \"presión atmosférica\", \"pantalla\": \"Muestra la presión atmosférica\", \"Comprobación\": \"Compare la presión atmosférica realmente medida con el valor de visualización del medidor\" }, { \"codigo\": 3, \"falla\": \"presión del aire de admisión\", \"pantalla\": \"Muestra la presión del aire de admisión\", \"Comprobación\": \"Compare la presión atmosférica realmente medida con el valor de visualización del medidor sin arrancar el motor\" }, { \"codigo\": 5, \"falla\": \"Temperatura del aire de admisión\", \"pantalla\": \"Muestra la temperatura del aire de admisión\", \"Comprobación\": \"Compare la temperatura del aire realmente medida con el valor de visualización del medidor\" }, { \"codigo\": 6, \"falla\": \"Temperatura del refrigerante\", \"pantalla\": \"Muestra la temperatura del refrigerante\", \"Comprobación\": \"Compare la temperatura del refrigerante medida con el valor de visualización del medidor\" }, { \"codigo\": 7, \"falla\": \"Pulso de velocidad del vehículo\", \"pantalla\": \"0-999\", \"Verificación\": \"Verifique que el número aumente cuando se gira la rueda trasera. El número es acumulativo y no se reinicia cada vez que se detiene la rueda\" }, { \"codigo\": 8, \"falla\": \"Sensor de ángulo de inclinación vertical-volcado\", \"pantalla\": \"0.4-1.4 - 3.7-4.4\", \"Comprobación\": \"Retire el sensor de ángulo de inclinación e inclínelo más de 65 grados\" }, { \"codigo\": 9, \"falla\": \"Voltaje del sistema de combustible (voltaje de la batería)\", \"pantalla\": \"Aproximadamente 12.0\", \"Comprobación\": \"Ajuste el interruptor de parada del motor a 'Abrir' , y luego compare con el voltaje de la batería realmente medido. (Si el voltaje de la batería es inferior, recargue la batería)\" }, { \"codigo\": 13, \"falla\": \"Señal 2 del sensor de posición del acelerador (para válvulas de mariposa): posición completamente cerrada / posición totalmente abierta\", \"pantalla\": \"9-23 94-108\", \"Comprobación\": \"Compruebe con la válvula de mariposa completamente cerrada / abierta\" }, { \"codigo\": 14, \"falla\": \"Señal del sensor de posición del acelerador (para la polea del cable del acelerador) 1: Posición completamente cerrada / Posición totalmente abierta\", \"pantalla\": \"12-22 - 97-107\", \"Comprobación\": \"Verificar con el acelerador completamente cerrado / abierto\" }, { \"codigo\": 15, \"falla\": \"Señal 2 del sensor de posición del acelerador (para la polea del cable del acelerador): posición totalmente cerrada / posición totalmente abierta\", \"pantalla\": \"10-24 - 95-109\", \"Comprobación\": \"Verificar con el acelerador completamente cerrado / abierto\" }, { \"codigo\": 20, \"falla\": \"Interruptor del soporte lateral Soporte retraído / extendido\", \"pantalla\": \"ON / OFF\", \"Comprobación\": \"Ajuste ON / OFF el interruptor del caballete lateral (con la transmisión en marcha)\" }, { \"codigo\": 21, \"falla\": \"Interruptor neutral Neutro / En marcha\", \"pantalla\": \"ON / OFF\", \"Comprobando\": \"Cambia la transmisión\" }, { \"codigo\": 60, \"falla\": \"N.º de cilindro de falla EEPROM No hay historial / Historial existe\", \"pantalla\": \"00 / 01-04 (No. de cilindro de falla) (Si hay más de un cilindro defectuoso, la pantalla cambia cada dos segundos para mostrar todos los números de cilindro detectados. Cuando se muestran todos los números de cilindro, la pantalla se repite. ) \", \"Comprobación\": \"N / A\" }, { \"codigo\": 61, \"falla\": \"codigo del historial de fallas No existe historial / Historial\", \"pantalla\": \"00 / codigos de falla 11-60 (si se detecta más de un número de codigo, la pantalla cambia cada dos segundos para mostrar todos los números de codigos detectados. Cuando se muestran todos los números de codigos, la pantalla se repite)\", \"Comprobación\": \"N / A\" }, { \"codigo\": 62, \"falla\": \"Borrado de código de historial de mal funcionamiento / Historial existe\", \"pantalla\": \"00 / Muestra el número total de fallas, incluyendo el mal funcionamiento actual, que ha ocurrido desde la última vez que se borró el historial. (Por ejemplo, si ha habido tres fallas de funcionamiento, se muestra '03')\", \"Comprobación\": \"Para borrar el historial, ajuste el interruptor de parada del motor de 'DESACTIVADO' a 'ENCENDIDO'.\" }, { \"codigo\": 63, \"falla\": \"Restablecimiento del codigo de mal funcionamiento (solo para los codigos de falla N. ° 24 y 40) No existe codigo de mal funcionamiento / codigo de mal funcionamiento\", \"pantalla\": \"00 / codigos de falla 24, 40 (Si se detecta más de un número de codigo, la pantalla cambia cada dos segundos para mostrar todos los números de codigos detectados. Cuando se muestran todos los números de codigos, la pantalla se repite)\", \"Comprobación\": \"Para restablecer, ajuste el interruptor de parada del motor de 'DESACTIVADO' a 'ENCENDIDO'\" }, { \"codigo\": 70, \"falla\": \"Número de control\", \"pantalla\": 0, \"Comprobación\": \"N / A\" } ] }";

    List<Map<String,String>> countryList = new ArrayList<Map<String,String>>();
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_check);

        llenarListadoCodigos();

        SimpleAdapter adapter = new SimpleAdapter(this, countryList, android.R.layout.simple_list_item_1, new String[] {"Fault_code_No"}, new int[] {android.R.id.text1});


        adapter.setDropDownViewResource(R.layout.spinner_lay);
        Spinner sItems = (Spinner) findViewById(R.id.spinner1);
        sItems.setAdapter(adapter);
        sItems.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
                llenarDatos( position);
            }

            @Override
            public void onNothingSelected(AdapterView<?> parent) {

            }
        });


        Switch switchAB = (Switch )findViewById(R.id.actionbar_switch);
        switchAB.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                Spinner sItems = (Spinner) findViewById(R.id.spinner1);

                llenarDatos(sItems.getSelectedItemPosition());
            }
        });


    }

    public void llenarDatos(int pos)
    {
        try{

            Switch sw = (Switch)findViewById(R.id.actionbar_switch);

            TextView tx = (TextView )findViewById(R.id.textView7);

            TextView tx2 = (TextView )findViewById(R.id.textView6);
            TextView tx3 = (TextView )findViewById(R.id.textView5);
            TextView tx4 = (TextView )findViewById(R.id.textView4);
            TextView tx5 = (TextView )findViewById(R.id.textView3);


            if(sw.isChecked()) {
                JSONObject jsonResponse = new JSONObject(localjsonString);
                JSONArray jsonMainNode = jsonResponse.optJSONArray("Fault_code_No");
                JSONObject jsonChildNode = jsonMainNode.getJSONObject(pos);
                tx.setText(jsonChildNode.optString("Item"));
                tx2.setText(jsonChildNode.optString("Symptom"));
                tx3.setText(jsonChildNode.optString("start"));
                tx4.setText(jsonChildNode.optString("drive"));
                tx5.setText(jsonChildNode.optString("DiagnosticCode"));
            }
            else
            {
                JSONObject jsonResponse = new JSONObject(JsonEspañol);
                JSONArray jsonMainNode = jsonResponse.optJSONArray("Fault_code_No");
                JSONObject jsonChildNode = jsonMainNode.getJSONObject(pos);
                tx.setText(jsonChildNode.optString("falla"));
                tx2.setText(jsonChildNode.optString("sintoma"));
                tx3.setText(jsonChildNode.optString("inicio"));
                tx4.setText(jsonChildNode.optString("conducir"));
                tx5.setText(jsonChildNode.optString("menudiag"));
            }




        }
        catch(JSONException e){
            Toast.makeText(getApplicationContext(), "Error"+e.toString(), Toast.LENGTH_SHORT).show();
        }
    }
    private void llenarListadoCodigos(){

        try{

            JSONObject jsonResponse;


                jsonResponse = new JSONObject(JsonEspañol);
                JSONArray jsonMainNode = jsonResponse.optJSONArray("Fault_code_No");

                for(int i = 0; i<jsonMainNode.length();i++){
                    JSONObject jsonChildNode = jsonMainNode.getJSONObject(i);
                    String codigo = jsonChildNode.optString("codigo");
                    countryList.add(crearCodigoParaLlenar("Fault_code_No", codigo));
                }

        }
        catch(JSONException e){
            Toast.makeText(getApplicationContext(), "Error al leer JSON", Toast.LENGTH_SHORT).show();

        }
    }
    private HashMap<String, String> crearCodigoParaLlenar(String name, String number){
        HashMap<String, String> codigo = new HashMap<String, String>();
        codigo.put(name, number);
        return codigo;
    }

}
